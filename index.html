<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>void chan - donde el vac√≠o habla</title>
    <link rel="icon" href="assets/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    
    <style>
        /* === VARIABLES Y RESET === */
        :root {
            --color-bg: #0a0a0a;
            --color-primary: #1a1a1a;
            --color-secondary: #2a2a2a;
            --color-accent: #8a2be2;
            --color-accent-light: #9d4dff;
            --color-text: #e0e0e0;
            --color-text-secondary: #888;
            --color-border: #333;
            --color-warning: #ff6b35;
            --color-success: #00cc88;
            --color-error: #ff4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Share Tech Mono', monospace;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* === LOADING SCREEN === */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .void-loader {
            text-align: center;
        }

        .void-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid var(--color-border);
            border-top: 3px solid var(--color-accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 2rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .void-loader h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            color: var(--color-accent);
            margin-bottom: 1rem;
            text-shadow: 0 0 10px var(--color-accent-light);
            letter-spacing: 2px; /* Separaci√≥n entre letras */
        }

        .load-progress {
            margin-top: 2rem;
        }

        .progress-bar {
            width: 300px;
            height: 8px;
            background: var(--color-border);
            border-radius: 4px;
            overflow: hidden;
            margin: 0 auto 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: var(--color-accent);
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        /* === WELCOME SCREEN === */
        .welcome-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-bg);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9998;
        }

        .welcome-content {
            text-align: center;
            max-width: 500px;
            padding: 2rem;
        }

        .welcome-content h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            color: var(--color-accent);
            margin-bottom: 0.5rem;
            letter-spacing: 3px; /* Separaci√≥n entre letras */
        }

        .welcome-subtitle {
            color: var(--color-text-secondary);
            margin-bottom: 3rem;
        }

        .welcome-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 2rem;
            color: var(--color-accent);
            font-family: 'Orbitron', sans-serif;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--color-text-secondary);
        }

        .enter-btn {
            background: var(--color-accent);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', sans-serif;
            margin-bottom: 2rem;
        }

        .enter-btn:hover {
            background: var(--color-accent-light);
            transform: translateY(-2px);
        }

        /* === HEADER === */
        .header {
            background: var(--color-primary);
            border-bottom: 1px solid var(--color-border);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            color: var(--color-accent);
            letter-spacing: 2px; /* Separaci√≥n entre letras */
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .compact-select {
            background: var(--color-secondary);
            color: var(--color-text);
            border: 1px solid var(--color-border);
            padding: 0.3rem 0.5rem;
            border-radius: 4px;
        }

        .online-users-real {
            background: var(--color-accent);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
        }

        /* === NAVIGATION === */
        .quick-navigation {
            background: var(--color-primary);
            padding: 0.8rem 0;
            border-bottom: 1px solid var(--color-border);
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: var(--color-secondary);
            border: 1px solid var(--color-border);
            color: var(--color-text);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            border-color: var(--color-accent);
        }

        .quick-boards {
            background: var(--color-primary);
            padding: 1rem 0;
            border-bottom: 1px solid var(--color-border);
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
            max-height: 120px;
            overflow-y: auto;
        }

        .quick-board {
            background: var(--color-secondary);
            border: 1px solid var(--color-border);
            color: var(--color-text);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.8rem;
            white-space: nowrap;
        }

        .quick-board.active {
            background: var(--color-accent);
            color: white;
        }

        /* Main Navigation */
        .main-nav {
            background: var(--color-primary);
            padding: 1rem 0;
            max-height: 400px;
            overflow-y: auto;
        }

        .nav-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .nav-category {
            background: var(--color-secondary);
            border-radius: 6px;
            padding: 0.8rem;
        }

        .nav-category h3 {
            color: var(--color-accent);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            cursor: pointer;
            padding: 0.5rem;
            background: rgba(0,0,0,0.3);
            border-radius: 4px;
        }

        .nav-links {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .nav-link {
            color: var(--color-text);
            text-decoration: none;
            padding: 0.4rem 0.6rem;
            border-radius: 4px;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .nav-link:hover, .nav-link.active {
            background: var(--color-accent);
            color: white;
        }

        /* === MAIN CONTENT === */
        .board-header {
            background: var(--color-primary);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .board-info h2 {
            color: var(--color-accent);
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        .board-stats {
            display: flex;
            gap: 1.5rem;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* === POST FORM === */
        .post-form-container {
            background: var(--color-primary);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-row input {
            background: var(--color-secondary);
            border: 1px solid var(--color-border);
            color: var(--color-text);
            padding: 0.8rem;
            border-radius: 4px;
        }

        #post-message {
            width: 100%;
            height: 150px;
            background: var(--color-secondary);
            border: 1px solid var(--color-border);
            color: var(--color-text);
            padding: 1rem;
            border-radius: 4px;
            resize: vertical;
            margin-bottom: 1rem;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
        }

        .btn-primary, .btn-secondary {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: var(--color-accent);
            color: white;
        }

        .btn-secondary {
            background: var(--color-secondary);
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }

        /* === POSTS === */
        .posts-container {
            margin: 2rem 0;
        }

        .post {
            background: var(--color-secondary);
            border-radius: 6px;
            padding: 1.2rem;
            margin-bottom: 1rem;
            border-left: 3px solid var(--color-accent);
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--color-border);
        }

        .post-name {
            color: var(--color-accent);
            font-weight: bold;
        }

        .post-date {
            color: var(--color-text-secondary);
            font-size: 0.8rem;
        }

        .post-subject {
            color: var(--color-warning);
            font-weight: bold;
            margin-bottom: 0.8rem;
        }

        .post-content {
            line-height: 1.5;
            white-space: pre-wrap;
        }

        .no-posts {
            text-align: center;
            padding: 3rem;
            color: var(--color-text-secondary);
        }

        /* === GAMES SECTION === */
        .games-section {
            background: var(--color-primary);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
        }

        .games-section h3 {
            color: var(--color-accent);
            margin-bottom: 1rem;
            letter-spacing: 1px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .game-card {
            background: var(--color-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--color-border);
        }

        .game-card:hover {
            border-color: var(--color-accent);
            transform: translateY(-3px);
        }

        .game-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        /* Game Containers */
        .game-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--color-primary);
            border: 2px solid var(--color-accent);
            border-radius: 8px;
            padding: 1rem;
            z-index: 1000;
            display: none;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--color-text);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* === FOOTER === */
        .footer {
            background: var(--color-primary);
            border-top: 1px solid var(--color-border);
            padding: 2rem 0;
            margin-top: 3rem;
            text-align: center;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: center;
        }

        .footer-info h3 {
            color: var(--color-accent);
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 2px;
            margin-bottom: 0.5rem;
        }

        .footer-credits {
            color: var(--color-text-secondary);
            font-size: 0.9rem;
        }

        .footer-stats {
            color: var(--color-accent);
            font-size: 0.8rem;
        }

        .creator-credit {
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background: var(--color-secondary);
            border-radius: 20px;
            border: 1px solid var(--color-accent);
            color: var(--color-text);
            font-size: 0.8rem;
        }

        .creator-credit strong {
            color: var(--color-accent);
        }

        /* === RESPONSIVE === */
        @media (max-width: 768px) {
            .header-top { flex-direction: column; gap: 1rem; }
            .form-row { grid-template-columns: 1fr; }
            .footer-content { flex-direction: column; gap: 1rem; text-align: center; }
            .board-header { flex-direction: column; gap: 1rem; text-align: center; }
            .nav-container { grid-template-columns: 1fr; }
            .games-grid { grid-template-columns: repeat(2, 1fr); }
            
            .void-loader h1, .welcome-content h1 {
                font-size: 2.5rem;
            }
            
            .logo {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body class="theme-purple">
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="void-loader">
            <div class="void-spinner"></div>
            <h1>VOID CHAN</h1>
            <p id="loading-message">Inicializando el vac√≠o...</p>
            <div class="load-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span class="progress-text" id="progress-text">0%</span>
            </div>
        </div>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-content">
            <h1>VOID CHAN</h1>
            <p class="welcome-subtitle">Donde el vac√≠o habla</p>
            <div class="welcome-stats">
                <div class="stat">
                    <span class="stat-number" id="welcome-online">42</span>
                    <span class="stat-label">usuarios en l√≠nea</span>
                </div>
                <div class="stat">
                    <span class="stat-number" id="welcome-posts">0</span>
                    <span class="stat-label">posts totales</span>
                </div>
                <div class="stat">
                    <span class="stat-number">150</span>
                    <span class="stat-label">boards activos</span>
                </div>
            </div>
            <button id="enter-btn" class="enter-btn">üåå ENTRAR AL VOID</button>
        </div>
    </div>

    <!-- Main App -->
    <div id="main-app" class="main-app" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-top">
                    <div class="logo-section">
                        <h1 class="logo">VOID CHAN</h1>
                    </div>
                    <div class="header-controls">
                        <select id="theme-select" class="compact-select">
                            <option value="purple">Morado</option>
                            <option value="blue">Azul</option>
                            <option value="green">Verde</option>
                        </select>
                        <div class="online-display">
                            <span class="online-users-real" id="online-count">42</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Quick Navigation -->
        <div class="quick-navigation">
            <button class="nav-btn" data-action="scroll-to-posts">üìù POSTS</button>
            <button class="nav-btn" data-action="scroll-to-form">‚úçÔ∏è NUEVO POST</button>
            <button class="nav-btn" data-action="scroll-to-games">üéÆ JUEGOS</button>
            <button class="nav-btn" data-action="scroll-to-top">‚¨ÜÔ∏è SUBIR</button>
        </div>

        <!-- Quick Boards -->
        <div class="quick-boards">
            <button class="quick-board active" data-board="global">üí¨ GLOBAL</button>
            <button class="quick-board" data-board="random">üé≤ RANDOM</button>
            <button class="quick-board" data-board="anime">üáØüáµ ANIME</button>
            <button class="quick-board" data-board="manga">üìñ MANGA</button>
            <button class="quick-board" data-board="programming">üíª PROG</button>
            <button class="quick-board" data-board="technology">üîß TECH</button>
            <button class="quick-board" data-board="videogames">üéÆ GAMES</button>
            <button class="quick-board" data-board="retro">üïπÔ∏è RETRO</button>
            <button class="quick-board" data-board="music">üéµ M√öSICA</button>
            <button class="quick-board" data-board="art">üé® ARTE</button>
        </div>

        <!-- Main Navigation -->
        <nav class="main-nav">
            <div class="container">
                <div class="nav-container">
                    <!-- Boards organizados por categor√≠as -->
                    <div class="nav-category">
                        <h3>üåê PRINCIPAL</h3>
                        <div class="nav-links">
                            <a href="#" class="nav-link active" data-board="global">/global/ - Global</a>
                            <a href="#" class="nav-link" data-board="random">/b/ - Random</a>
                            <a href="#" class="nav-link" data-board="void">/void/ - Void</a>
                            <a href="#" class="nav-link" data-board="meta">/meta/ - Meta</a>
                        </div>
                    </div>

                    <div class="nav-category">
                        <h3>üáØüáµ ANIME & MANGA</h3>
                        <div class="nav-links">
                            <a href="#" class="nav-link" data-board="anime">/a/ - Anime</a>
                            <a href="#" class="nav-link" data-board="manga">/m/ - Manga</a>
                            <a href="#" class="nav-link" data-board="wallpapers">/wp/ - Wallpapers</a>
                            <a href="#" class="nav-link" data-board="cosplay">/cos/ - Cosplay</a>
                        </div>
                    </div>

                    <div class="nav-category">
                        <h3>üíª TECNOLOG√çA</h3>
                        <div class="nav-links">
                            <a href="#" class="nav-link" data-board="programming">/prog/ - Programaci√≥n</a>
                            <a href="#" class="nav-link" data-board="technology">/tech/ - Tecnolog√≠a</a>
                            <a href="#" class="nav-link" data-board="ai">/ai/ - Inteligencia Artificial</a>
                            <a href="#" class="nav-link" data-board="webdev">/web/ - Web Dev</a>
                        </div>
                    </div>

                    <div class="nav-category">
                        <h3>üéÆ VIDEOJUEGOS</h3>
                        <div class="nav-links">
                            <a href="#" class="nav-link" data-board="videogames">/v/ - Videojuegos</a>
                            <a href="#" class="nav-link" data-board="retro">/retro/ - Retro</a>
                            <a href="#" class="nav-link" data-board="pcgaming">/pc/ - PC Gaming</a>
                            <a href="#" class="nav-link" data-board="mobilegames">/mg/ - Mobile Games</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <!-- Board Header -->
                <div class="board-header">
                    <div class="board-info">
                        <h2 id="board-title">/GLOBAL/</h2>
                        <p id="board-description">CANAL GLOBAL</p>
                    </div>
                    <div class="board-stats">
                        <div class="stat">
                            <span id="board-online">42</span> EN L√çNEA
                        </div>
                        <div class="stat">
                            <span id="board-posts">0</span> POSTS
                        </div>
                    </div>
                </div>

                <!-- Post Form -->
                <div class="post-form-container" id="post-form-container">
                    <form id="post-form" class="post-form">
                        <div class="form-header">
                            <h3>üìù CREAR POST</h3>
                            <span class="char-counter">
                                <span id="char-count">0</span>/2000
                            </span>
                        </div>
                        <div class="form-row">
                            <input type="text" id="post-name" placeholder="Nombre (opcional)" maxlength="50">
                            <input type="text" id="post-subject" placeholder="Asunto (opcional)" maxlength="100">
                        </div>
                        <textarea id="post-message" placeholder="Escribe tu mensaje aqu√≠..." required maxlength="2000"></textarea>
                        <div class="form-actions">
                            <button type="button" id="clear-form" class="btn-secondary">LIMPIAR</button>
                            <button type="submit" class="btn-primary">PUBLICAR</button>
                        </div>
                    </form>
                </div>

                <!-- Games Section -->
                <div class="games-section" id="games-section">
                    <h3>üéÆ MINIJUEGOS DEL VOID</h3>
                    <div class="games-grid">
                        <div class="game-card" data-game="snake">
                            <div class="game-icon">üêç</div>
                            <h4>SNAKE</h4>
                            <p>Serpiente cl√°sica</p>
                        </div>
                        <div class="game-card" data-game="pong">
                            <div class="game-icon">üéæ</div>
                            <h4>PONG</h4>
                            <p>Tenis retro</p>
                        </div>
                        <div class="game-card" data-game="tetris">
                            <div class="game-icon">üß±</div>
                            <h4>TETRIS</h4>
                            <p>Piezas rusas</p>
                        </div>
                        <div class="game-card" data-game="memory">
                            <div class="game-icon">üß†</div>
                            <h4>MEMORY</h4>
                            <p>Encuentra pares</p>
                        </div>
                    </div>
                </div>

                <!-- Posts Container -->
                <div id="posts-container" class="posts-container">
                    <!-- Posts se cargan aqu√≠ -->
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-info">
                        <h3>VOID CHAN</h3>
                        <p>Foro an√≥nimo global ¬∑ 150+ boards ¬∑ Tiempo real</p>
                    </div>
                    <div class="footer-credits">
                        <p class="footer-stats">
                            <span id="footer-online">42</span> EN L√çNEA ¬∑ 
                            <span id="footer-posts">0</span> POSTS
                        </p>
                        <div class="creator-credit">
                            CREADO POR <strong>KARLDEV</strong>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Game Containers -->
    <div id="game-container" class="game-container">
        <div class="game-header">
            <h3 id="game-title">JUEGO</h3>
            <button class="close-btn" onclick="voidChan.closeGame()">‚úï</button>
        </div>
        <div id="game-content"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        // Configuraci√≥n Supabase
        const SUPABASE_URL = 'https://hyoqobgkjmvnjwfpkmyv.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5b3FvYmdram12bmp3ZnBrbXl2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3MzQ5MzIsImV4cCI6MjA3NjMxMDkzMn0.iTCBoaZOWF5jAyYa3tas4XjtZLAtPpoBrJEod-xSWC4';
        
        window.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        // VoidChan Class - MEJORADA
        class VoidChan {
            constructor() {
                this.currentBoard = 'global';
                this.posts = {};
                this.init();
            }

            async init() {
                console.log('üöÄ Iniciando Void Chan...');
                this.startLoadingProgress();
            }

            startLoadingProgress() {
                let progress = 0;
                const progressFill = document.getElementById('progress-fill');
                const progressText = document.getElementById('progress-text');
                const loadingMessage = document.getElementById('loading-message');
                
                console.log('üîÑ Iniciando barra de carga...');
                
                const progressInterval = setInterval(async () => {
                    progress += Math.random() * 15 + 5;
                    if (progress > 100) progress = 100;
                    
                    // ACTUALIZAR PROGRESO VISUAL
                    if (progressFill) {
                        progressFill.style.width = progress + '%';
                    }
                    if (progressText) {
                        progressText.textContent = Math.round(progress) + '%';
                    }
                    
                    // Actualizar mensaje de estado
                    const message = this.getLoadingMessage(progress);
                    if (loadingMessage) {
                        loadingMessage.textContent = message;
                    }
                    
                    console.log(`Progreso: ${Math.round(progress)}% - ${message}`);
                    
                    // En 50% cargar posts
                    if (progress >= 50 && Object.keys(this.posts).length === 0) {
                        await this.loadAllPosts();
                    }
                    
                    if (progress >= 100) {
                        clearInterval(progressInterval);
                        console.log('‚úÖ Carga completada');
                        this.showWelcomeScreen();
                    }
                }, 100);
            }

            getLoadingMessage(progress) {
                if (progress < 20) return "Inicializando n√∫cleo del void...";
                if (progress < 40) return "Cargando interfaz espacial...";
                if (progress < 60) return "Conectando a la matrix...";
                if (progress < 80) return "Sincronizando part√≠culas...";
                if (progress < 100) return "Activando protocolos...";
                return "¬°Void listo!";
            }

            showWelcomeScreen() {
                console.log('üé≠ Mostrando pantalla de bienvenida...');
                
                const loadingScreen = document.getElementById('loading-screen');
                const welcomeScreen = document.getElementById('welcome-screen');
                
                if (loadingScreen) {
                    loadingScreen.style.display = 'none';
                }
                if (welcomeScreen) {
                    welcomeScreen.style.display = 'flex';
                }
                
                this.updateWelcomeStats();
                this.setupWelcomeEvents();
            }

            setupWelcomeEvents() {
                const enterBtn = document.getElementById('enter-btn');
                if (enterBtn) {
                    enterBtn.addEventListener('click', () => {
                        this.hideWelcomeScreen();
                    });
                }
            }

            updateWelcomeStats() {
                const totalPosts = Object.values(this.posts).flat().length;
                document.getElementById('welcome-posts').textContent = totalPosts;
            }

            hideWelcomeScreen() {
                console.log('üåå Entrando al void...');
                
                const welcomeScreen = document.getElementById('welcome-screen');
                const mainApp = document.getElementById('main-app');
                
                if (welcomeScreen) welcomeScreen.style.display = 'none';
                if (mainApp) {
                    mainApp.style.display = 'block';
                    this.setupMainSystems();
                }
            }

            setupMainSystems() {
                this.setupEventListeners();
                this.renderPosts();
                this.updateAllStats();
            }

            async loadAllPosts() {
                try {
                    console.log('üì• Cargando posts de Supabase...');
                    
                    const { data, error } = await window.supabase
                        .from('posts')
                        .select('*')
                        .order('created_at', { ascending: false });

                    if (error) {
                        console.log('‚ùå Error cargando posts:', error);
                        return;
                    }

                    this.posts = {};
                    if (data && data.length > 0) {
                        data.forEach(post => {
                            if (!this.posts[post.board]) {
                                this.posts[post.board] = [];
                            }
                            this.posts[post.board].push(post);
                        });
                        console.log(`‚úÖ Cargados ${data.length} posts de Supabase`);
                    }
                } catch (error) {
                    console.log('‚ùå Error cr√≠tico:', error);
                }
            }

            setupEventListeners() {
                // Boards r√°pidos
                document.querySelectorAll('.quick-board').forEach(board => {
                    board.addEventListener('click', (e) => {
                        const boardName = e.target.getAttribute('data-board');
                        this.changeBoard(boardName);
                    });
                });

                // Navegaci√≥n principal
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const boardName = e.target.getAttribute('data-board');
                        this.changeBoard(boardName);
                    });
                });

                // Navegaci√≥n r√°pida
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const action = e.target.getAttribute('data-action');
                        this.handleNavAction(action);
                    });
                });

                // Formulario
                document.getElementById('post-form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.handlePostSubmit();
                });

                document.getElementById('clear-form').addEventListener('click', () => {
                    this.clearPostForm();
                });

                // Juegos - SOLO MEMORY
                document.querySelectorAll('.game-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const game = e.target.closest('.game-card').getAttribute('data-game');
                        if (game === 'memory') {
                            this.openGame(game);
                        } else {
                            alert('üéÆ ¬°Prueba el juego Memory! Los dem√°s est√°n en desarrollo.');
                        }
                    });
                });

                // Tema
                document.getElementById('theme-select').addEventListener('change', (e) => {
                    document.body.className = 'theme-' + e.target.value;
                });

                // Contador de caracteres
                document.getElementById('post-message').addEventListener('input', (e) => {
                    document.getElementById('char-count').textContent = e.target.value.length;
                });
            }

            changeBoard(boardName) {
                this.currentBoard = boardName;
                
                // Actualizar botones activos
                document.querySelectorAll('.quick-board').forEach(board => {
                    board.classList.toggle('active', board.getAttribute('data-board') === boardName);
                });
                
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.toggle('active', link.getAttribute('data-board') === boardName);
                });
                
                // Actualizar t√≠tulo
                document.getElementById('board-title').textContent = `/${boardName.toUpperCase()}/`;
                document.getElementById('board-description').textContent = this.getBoardDescription(boardName);
                
                this.renderPosts();
            }

            getBoardDescription(boardName) {
                const descriptions = {
                    'global': 'CANAL GLOBAL',
                    'random': 'TODO VALE',
                    'anime': 'ANIME & MANGA',
                    'programming': 'PROGRAMACI√ìN',
                    'technology': 'TECNOLOG√çA',
                    'videogames': 'VIDEOJUEGOS',
                    'music': 'M√öSICA',
                    'art': 'ARTE DIGITAL'
                };
                return descriptions[boardName] || 'BOARD DE LA COMUNIDAD';
            }

            handleNavAction(action) {
                if (action === 'scroll-to-posts') {
                    document.getElementById('posts-container').scrollIntoView({ behavior: 'smooth' });
                } else if (action === 'scroll-to-form') {
                    document.getElementById('post-form-container').scrollIntoView({ behavior: 'smooth' });
                } else if (action === 'scroll-to-games') {
                    document.getElementById('games-section').scrollIntoView({ behavior: 'smooth' });
                } else if (action === 'scroll-to-top') {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }

            async handlePostSubmit() {
                const name = document.getElementById('post-name').value || 'An√≥nimo';
                const subject = document.getElementById('post-subject').value;
                const message = document.getElementById('post-message').value;

                if (!message.trim()) {
                    alert('Escribe un mensaje');
                    return;
                }

                const post = {
                    name: name,
                    subject: subject,
                    message: message,
                    board: this.currentBoard,
                    created_at: new Date().toISOString()
                };

                console.log('üì§ Publicando post:', post);

                // Guardar en Supabase
                try {
                    const { data, error } = await window.supabase
                        .from('posts')
                        .insert([post])
                        .select();
                    
                    if (error) {
                        console.log('‚ùå Error Supabase:', error);
                        throw error;
                    }
                    
                    if (data && data[0]) {
                        post.id = data[0].id;
                        console.log('‚úÖ Post guardado en Supabase con ID:', post.id);
                    }
                } catch (error) {
                    console.log('‚ùå Error guardando en Supabase:', error);
                    alert('Error al publicar. Intenta nuevamente.');
                    return;
                }

                // Agregar localmente
                if (!this.posts[this.currentBoard]) {
                    this.posts[this.currentBoard] = [];
                }
                this.posts[this.currentBoard].unshift(post);

                this.clearPostForm();
                this.renderPosts();
                this.updateStats();
                
                alert('‚úÖ ¬°Post publicado! Visible para todos los usuarios.');
            }

            clearPostForm() {
                document.getElementById('post-name').value = '';
                document.getElementById('post-subject').value = '';
                document.getElementById('post-message').value = '';
                document.getElementById('char-count').textContent = '0';
            }

            renderPosts() {
                const container = document.getElementById('posts-container');
                const boardPosts = this.posts[this.currentBoard] || [];

                if (boardPosts.length === 0) {
                    container.innerHTML = '<div class="no-posts">No hay posts en este board</div>';
                } else {
                    container.innerHTML = boardPosts.map(post => `
                        <div class="post">
                            <div class="post-header">
                                <span class="post-name">${post.name}</span>
                                <span class="post-date">${new Date(post.created_at).toLocaleString()}</span>
                            </div>
                            ${post.subject ? `<div class="post-subject">${post.subject}</div>` : ''}
                            <div class="post-content">${post.message.replace(/\n/g, '<br>')}</div>
                        </div>
                    `).join('');
                }

                this.updateStats();
            }

            updateStats() {
                const boardPosts = this.posts[this.currentBoard] || [];
                const totalPosts = Object.values(this.posts).flat().length;
                
                document.getElementById('board-posts').textContent = boardPosts.length;
                document.getElementById('footer-posts').textContent = totalPosts;
                document.getElementById('welcome-posts').textContent = totalPosts;
            }

            updateAllStats() {
                this.updateStats();
            }

            openGame(gameName) {
                if (gameName !== 'memory') return;
                
                const gameContainer = document.getElementById('game-container');
                const gameContent = document.getElementById('game-content');
                const gameTitle = document.getElementById('game-title');
                
                gameTitle.textContent = 'üß† MEMORY GAME';
                gameContent.innerHTML = this.getMemoryHTML();
                gameContainer.style.display = 'block';
                
                this.initMemory();
            }

            closeGame() {
                document.getElementById('game-container').style.display = 'none';
            }

            getMemoryHTML() {
                return `
                    <div style="text-align: center;">
                        <div id="memory-game" style="display: grid; grid-template-columns: repeat(4, 80px); gap: 5px; margin: 0 auto; width: 340px;"></div>
                        <p style="margin-top: 1rem; color: var(--color-text-secondary);">Encuentra las parejas</p>
                        <p>Intentos: <span id="memory-attempts">0</span></p>
                        <button onclick="voidChan.resetMemory()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: var(--color-accent); color: white; border: none; border-radius: 4px; cursor: pointer;">Reiniciar</button>
                    </div>
                `;
            }

            initMemory() {
                const gameContainer = document.getElementById('memory-game');
                const attemptsElement = document.getElementById('memory-attempts');
                
                const symbols = ['üêç', 'üéÆ', 'üåå', 'üíª', 'üöÄ', 'üé®', 'üéµ', 'üé≤'];
                const cards = [...symbols, ...symbols];
                
                // Barajar cartas
                for (let i = cards.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [cards[i], cards[j]] = [cards[j], cards[i]];
                }
                
                this.memoryGame = {
                    flippedCards: [],
                    matchedCards: [],
                    attempts: 0,
                    cards: cards
                };
                
                this.renderMemoryGame();
            }

            renderMemoryGame() {
                const gameContainer = document.getElementById('memory-game');
                const attemptsElement = document.getElementById('memory-attempts');
                
                gameContainer.innerHTML = '';
                attemptsElement.textContent = this.memoryGame.attempts;
                
                this.memoryGame.cards.forEach((symbol, index) => {
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.style.cssText = `
                        width: 80px;
                        height: 80px;
                        background: var(--color-accent);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 1.5rem;
                        cursor: pointer;
                        border-radius: 4px;
                        transition: all 0.3s ease;
                    `;
                    card.textContent = '?';
                    card.dataset.symbol = symbol;
                    card.dataset.index = index;
                    
                    card.addEventListener('click', () => {
                        this.handleMemoryCardClick(card);
                    });
                    
                    gameContainer.appendChild(card);
                });
            }

            handleMemoryCardClick(card) {
                if (this.memoryGame.flippedCards.length < 2 && !card.classList.contains('flipped')) {
                    card.textContent = card.dataset.symbol;
                    card.style.background = 'var(--color-warning)';
                    card.classList.add('flipped');
                    this.memoryGame.flippedCards.push(card);
                    
                    if (this.memoryGame.flippedCards.length === 2) {
                        this.memoryGame.attempts++;
                        document.getElementById('memory-attempts').textContent = this.memoryGame.attempts;
                        
                        const [card1, card2] = this.memoryGame.flippedCards;
                        if (card1.dataset.symbol === card2.dataset.symbol) {
                            // Match encontrado
                            card1.style.background = 'var(--color-success)';
                            card2.style.background = 'var(--color-success)';
                            this.memoryGame.matchedCards.push(card1, card2);
                            this.memoryGame.flippedCards = [];
                            
                            if (this.memoryGame.matchedCards.length === this.memoryGame.cards.length) {
                                setTimeout(() => {
                                    alert(`¬°Ganaste! Intentos: ${this.memoryGame.attempts}`);
                                }, 500);
                            }
                        } else {
                            // No match, voltear de nuevo
                            setTimeout(() => {
                                card1.textContent = '?';
                                card2.textContent = '?';
                                card1.style.background = 'var(--color-accent)';
                                card2.style.background = 'var(--color-accent)';
                                card1.classList.remove('flipped');
                                card2.classList.remove('flipped');
                                this.memoryGame.flippedCards = [];
                            }, 1000);
                        }
                    }
                }
            }

            resetMemory() {
                this.initMemory();
            }
        }

        // Inicializar cuando cargue la p√°gina
        window.addEventListener('DOMContentLoaded', () => {
            window.voidChan = new VoidChan();
        });
    </script>
</body>
</html>
